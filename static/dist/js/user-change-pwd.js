var userChangePwdMod={init:function(){var n=this;n.bindEvents()},changePwd:function(n){var e=this;$.ajax({url:"/user/changePwd",method:"post",type:"json",timeout:1e4,data:n,beforeSend:function(){H.Loading.show()},success:function(n){1==n.code?H.alert(n.msg,2e3,function(){e.logOut()}):H.alert(n.msg)},error:function(){H.alert("修改密码接口调用失败")},complete:function(){H.Loading.hide()}})},logOut:function(){$.ajax({url:"/user/logout",method:"post",type:"json",beforeSend:function(){H.Loading.show()},success:function(n){1==n.code?window.parent.location.href="/#/login":H.alert(n.msg)},error:function(){H.alert("退出登录失败")},complete:function(){H.Loading.hide()}})},bindEvents:function(){$("#J-form").on("submit",function(n){n.preventDefault();var e=$(this).find("input[name=oldPwd]").val(),o=$(this).find("input[name=newPwd]").val(),t=$(this).find("input[name=newPwdEx]").val();return""==e||""==o||""==t?void H.alert("请输全三次密码信息！"):o==e?void H.alert("新旧密码不能相同！"):o!=t?void H.alert("两次新密码输入不一致！"):o.length<6?void H.alert("密码不能小于6位数！"):o.indexOf(" ")!=-1?void H.alert("密码不能带空格符！"):void userChangePwdMod.changePwd({oldPwd:e,newPwd:o})}),$("#J-btn-back").on("click",function(){location.href="home.html"})}};$(function(){userChangePwdMod.init()});